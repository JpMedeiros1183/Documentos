<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Triagem Jurídica Trabalhista - Terceirizado CoSERN</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        .cosern-blue { background-color: #005596; }
        .danger-red { background-color: #b91c1c; }
        label { font-weight: 600; color: #374151; font-size: 0.875rem; }
        input, select, textarea { border: 1px solid #d1d5db; border-radius: 0.375rem; padding: 0.6rem; width: 100%; margin-top: 0.25rem; }
        input:focus { ring: 2px; ring-color: #005596; outline: none; border-color: #005596; }
    </style>
</head>
<body class="bg-gray-100 min-h-screen p-2 md:p-6">

    <div class="max-w-5xl mx-auto bg-white shadow-2xl rounded-lg overflow-hidden border border-gray-300">
        <div class="cosern-blue p-6 text-white flex flex-col md:flex-row justify-between items-center text-center md:text-left">
            <div>
                <h1 class="text-2xl font-bold">RELATÓRIO PARA AÇÃO TRABALHISTA</h1>
                <p class="text-sm opacity-90">Contrato de Prestação de Serviço - CoSERN / Neoenergia</p>
            </div>
            <div class="mt-4 md:mt-0 bg-white text-blue-900 px-4 py-2 rounded font-bold text-sm">
                DOCUMENTO DE TRIAGEM
            </div>
        </div>

        <form class="p-6 md:p-10 space-y-8" id="judicialForm">
            
            <section>
                <h2 class="text-xl font-bold text-blue-800 border-b-2 border-blue-800 mb-6 pb-2 uppercase text-sm tracking-widest">1. Qualificação do Trabalhador</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="md:col-span-2">
                        <label>Nome Completo</label>
                        <input type="text" id="nome">
                    </div>
                    <div>
                        <label>Nacionalidade</label>
                        <input type="text" id="nacionalidade" value="Brasileiro(a)">
                    </div>
                    <div>
                        <label>Estado Civil</label>
                        <select id="estado_civil">
                            <option value="Solteiro(a)">Solteiro(a)</option>
                            <option value="Casado(a)">Casado(a)</option>
                            <option value="Divorciado(a)">Divorciado(a)</option>
                            <option value="União Estável">União Estável</option>
                        </select>
                    </div>
                    <div>
                        <label>Profissão (Ex: Eletricista, Motorista)</label>
                        <input type="text" id="profissao">
                    </div>
                    <div>
                        <label>CPF</label>
                        <input type="text" id="cpf" placeholder="000.000.000-00">
                    </div>
                    <div class="md:col-span-2">
                        <label>Endereço Completo (Rua, Nº, Bairro, Cidade/UF)</label>
                        <input type="text" id="endereco">
                    </div>
                    <div>
                        <label>Telefone/WhatsApp</label>
                        <input type="text" id="tel">
                    </div>
                </div>
            </section>

            <section>
                <h2 class="text-xl font-bold text-blue-800 border-b-2 border-blue-800 mb-6 pb-2 uppercase text-sm tracking-widest">2. Dados do Vínculo</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label>Empresa Terceirizada (Empregadora)</label>
                        <input type="text" id="empresa">
                    </div>
                    <div>
                        <label>Último Salário Base (R$)</label>
                        <input type="text" id="salario" placeholder="Ex: 2.500,00">
                    </div>
                    <div>
                        <label>Data de Admissão</label>
                        <input type="date" id="admissao">
                    </div>
                    <div>
                        <label>Data da Saída (Rescisão)</label>
                        <input type="date" id="demissao">
                    </div>
                </div>
            </section>

            <section>
                <h2 class="text-xl font-bold text-blue-800 border-b-2 border-blue-800 mb-6 pb-2 uppercase text-sm tracking-widest">3. Verbas Não Pagas e Jornada</h2>
                
                <div class="bg-gray-50 p-5 rounded-lg border border-gray-200 mb-6">
                    <label class="block text-red-700 font-bold mb-3">Selecione o que NÃO foi pago:</label>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                        <label class="flex items-center font-normal"><input type="checkbox" class="mr-2 verba w-4 h-4" value="Saldo de Salário"> Saldo de Salário</label>
                        <label class="flex items-center font-normal"><input type="checkbox" class="mr-2 verba w-4 h-4" value="Aviso Prévio"> Aviso Prévio</label>
                        <label class="flex items-center font-normal"><input type="checkbox" class="mr-2 verba w-4 h-4" value="Férias + 1/3"> Férias + 1/3</label>
                        <label class="flex items-center font-normal"><input type="checkbox" class="mr-2 verba w-4 h-4" value="13º Salário"> 13º Salário</label>
                        <label class="flex items-center font-normal"><input type="checkbox" class="mr-2 verba w-4 h-4" value="FGTS + 40%"> Multa 40% FGTS</label>
                        <label class="flex items-center font-normal"><input type="checkbox" class="mr-2 verba w-4 h-4" value="Seguro Desemprego (Guias)"> Seguro Desemprego</label>
                        <label class="flex items-center font-normal"><input type="checkbox" class="mr-2 verba w-4 h-4" value="Multa Art. 477 CLT"> Multa Art. 477</label>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="flex items-center text-blue-900 font-bold">
                            <input type="checkbox" id="tem_he" class="mr-2 w-4 h-4"> Existe cobrança de Horas Extras?
                        </label>
                        <textarea id="detalhe_he" rows="3" class="mt-2 bg-blue-50" placeholder="Especifique: Fazia 2h extras por dia, trabalhava aos sábados, etc."></textarea>
                    </div>
                    <div>
                        <label class="text-blue-900 font-bold">Relato da Rescisão</label>
                        <textarea id="relato" rows="3" placeholder="Ex: A empresa sumiu da base da CoSERN e não deu baixa na CTPS."></textarea>
                    </div>
                </div>
            </section>

            <div class="text-center pt-4">
                <button type="button" onclick="generatePDF()" class="danger-red text-white font-bold py-4 px-12 rounded-lg shadow-lg hover:scale-105 transition-transform uppercase tracking-wider">
                    Gerar PDF para Processo Judicial
                </button>
            </div>
        </form>
    </div>

    <script>
        function generatePDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            // Helper para capturar dados
            const getVal = (id) => document.getElementById(id).value || "__________";
            
            // Estética do PDF
            doc.setFillColor(0, 85, 150);
            doc.rect(0, 0, 210, 35, 'F');
            doc.setTextColor(255, 255, 255);
            doc.setFontSize(16);
            doc.text('MEMORIAL DE FATOS - RECLAMAÇÃO TRABALHISTA', 105, 18, { align: 'center' });
            doc.setFontSize(10);
            doc.text('RESPONSABILIDADE SUBSIDIÁRIA: COSERN / NEOENERGIA', 105, 26, { align: 'center' });

            // Seção 1: Qualificação
            doc.setTextColor(0, 0, 0);
            doc.setFontSize(12);
            doc.setFont(undefined, 'bold');
            doc.text('1. QUALIFICAÇÃO DO RECLAMANTE', 20, 50);
            doc.line(20, 52, 190, 52);
            
            doc.setFont(undefined, 'normal');
            doc.setFontSize(10);
            const qualificação = `${getVal('nome')}, ${getVal('nacionalidade')}, ${getVal('estado_civil')}, ${getVal('profissao')}, portador do CPF nº ${getVal('cpf')}, residente e domiciliado em ${getVal('endereco')}.`;
            const splitQualificacao = doc.splitTextToSize(qualificação, 170);
            doc.text(splitQualificacao, 20, 60);

            // Seção 2: Dados do Contrato
            doc.setFont(undefined, 'bold');
            doc.text('2. DADOS DO CONTRATO E EMPRESA', 20, 85);
            doc.line(20, 87, 190, 87);
            doc.setFont(undefined, 'normal');
            doc.text(`Empregadora Principal: ${getVal('empresa')}`, 20, 95);
            doc.text(`Salário Base: R$ ${getVal('salario')}`, 20, 102);
            doc.text(`Admissão: ${getVal('admissao')} | Saída: ${getVal('demissao')}`, 20, 109);

            // Seção 3: Verbas e HE
            doc.setFont(undefined, 'bold');
            doc.text('3. IRREGULARIDADES APONTADAS', 20, 125);
            doc.line(20, 127, 190, 127);
            
            doc.setFont(undefined, 'normal');
            let verbas = [];
            document.querySelectorAll('.verba:checked').forEach(el => verbas.push(el.value));
            doc.text('Verbas Rescisórias Devidas:', 20, 135);
            doc.text(verbas.length > 0 ? verbas.join(", ") : "Nenhuma verba selecionada", 25, 142, { maxWidth: 160 });

            doc.setFont(undefined, 'bold');
            doc.text('Horas Extras e Jornada:', 20, 155);
            doc.setFont(undefined, 'normal');
            const heText = document.getElementById('tem_he').checked ? getVal('detalhe_he') : "Não informado cobrança de horas extras.";
            doc.text(doc.splitTextToSize(heText, 170), 20, 162);

            // Seção 4: Relato
            doc.setFont(undefined, 'bold');
            doc.text('4. RESUMO DOS FATOS', 20, 185);
            doc.line(20, 187, 190, 187);
            doc.setFont(undefined, 'normal');
            doc.text(doc.splitTextToSize(getVal('relato'), 170), 20, 195);

            // Assinatura
            const pageHeight = doc.internal.pageSize.height;
            doc.line(60, pageHeight - 40, 150, pageHeight - 40);
            doc.text(getVal('nome'), 105, pageHeight - 34, { align: 'center' });
            doc.setFontSize(8);
            doc.text('Assinatura do Trabalhador', 105, pageHeight - 29, { align: 'center' });

            doc.save(`Ação_Trabalhista_${getVal('nome').replace(/\s+/g, '_')}.pdf`);
        }
    </script>
</body>
</html>